<div class="body">
  <div class="d-flex h-100 justify-content-center align-items-center">
    <div class="mx-auto app-login-box col-md-8">
      <div class="modal-dialog w-100">
        <div class="modal-content">
          <div class="modal-body">
            <div class="app-logo mx-auto mb-3"></div>
            <div class="h5 modal-title text-center">
              <h4 class="mt-2">
                <span>Please sign in to your account below.</span></h4>
            </div>
            <div class="divider"></div>
              <form class="pt-3"  #registrationForm="ngForm" (ngSubmit)="registrationForm.form.valid && signUp(registrationForm)">
              <div class="row">
                <div style="margin-left: 3.5%; width: 15%">
                  <div class="form-group">
                    <select type="text"
                            [(ngModel)]="registration.title"
                            name="title"
                            #title="ngModel"
                            [ngClass]="{ 'is-invalid': registrationForm.submitted && title.invalid }"
                            class="form-control"
                            required>
                      <option *ngFor="let option of titles" [value]="option" value="{{option}}">{{option}}</option>
                    </select>
                  </div>
                </div>
                <div style="margin-left: 4%; width: 35%">
                  <div class="form-group">
                    <input class="form-control" type="text" placeholder="Name"
                           [(ngModel)]="registration.contactName"
                           name="contactName"
                           #contactName="ngModel"
                           [ngClass]="{ 'is-invalid': registrationForm.submitted && contactName.invalid }"
                           required>
                    <div *ngIf="registrationForm.submitted && contactName.invalid" class="invalid-feedback">
                      <div *ngIf="contactName.errors.required">Name is required</div>
                    </div>
                  </div>
                </div>
                <div style="margin-left: 4%; width: 35%">
                  <div class="form-group">
                    <input class="form-control" type="text" placeholder="Surname"
                           [(ngModel)]="registration.contactSurname"
                           name="contactSurname"
                           #contactSurname="ngModel"
                           [ngClass]="{ 'is-invalid': registrationForm.submitted && contactSurname.invalid }"
                           required>
                    <div *ngIf="registrationForm.submitted && contactSurname.invalid" class="invalid-feedback">
                      <div *ngIf="contactSurname.errors.required">Surname is required</div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="row">
                <div style="margin-left: 3.5%; width: 30%">
                  <div class="form-group">
                    <select type="text"
                            [(ngModel)]="registration.gender"
                            name="gender"
                            class="form-control">
                      <option *ngFor="let option of genders" [value]="option" value="{{option}}">{{option}}</option>
                    </select>
                  </div>
                </div>

                <div style="margin-left: 4%; width: 59%">
                  <div class="form-group">
                    <input class="form-control" type="text" placeholder="Contact number"
                           [(ngModel)]="registration.contactNumber"
                           name="contactNumber"
                           #contactNumber="ngModel"
                           [ngClass]="{ 'is-invalid': registrationForm.submitted && contactNumber.invalid }"
                           required>
                    <div *ngIf="registrationForm.submitted && contactNumber.invalid" class="invalid-feedback">
                      <div *ngIf="contactNumber.errors.required">Contact number is required</div>
                    </div>
                  </div>
                </div>
              </div>

                <div class="row">
                  <div style="margin-left: 3.5%; width: 45%">
                    <div class="form-group" >
                      <input class="form-control" type="text" placeholder="Company name"
                             [(ngModel)]="registration.companyName"
                             name="companyName"
                             #companyName="ngModel"
                             [ngClass]="{ 'is-invalid': registrationForm.submitted && companyName.invalid }"
                             required>
                      <div *ngIf="registrationForm.submitted && companyName.invalid" class="invalid-feedback">
                        <div *ngIf="companyName.errors.required">Company name is required</div>
                      </div>
                    </div>
                  </div>

                  <div style="margin-left: 3%; width: 45%">
                    <div class="form-group" >
                      <input class="form-control" type="text" placeholder="Registration number"
                             [(ngModel)]="registration.companyRegistrationNumber"
                             name="companyRegistrationNumber"
                             #companyRegistrationNumber="ngModel"
                             [ngClass]="{ 'is-invalid': registrationForm.submitted && companyRegistrationNumber.invalid }"
                             required>
                      <div *ngIf="registrationForm.submitted && companyRegistrationNumber.invalid" class="invalid-feedback">
                        <div *ngIf="companyRegistrationNumber.errors.required">Company registration number is required</div>
                      </div>
                    </div>
                  </div>
                </div>


              <div class="form-group">
                <input type="email" class="form-control" name="contactEmail" placeholder="Contact email"
                       [(ngModel)]="registration.contactEmail"
                       #contactEmail="ngModel"
                       [ngClass]="{ 'is-invalid': registrationForm.submitted && contactEmail.invalid }" email required>
                <div *ngIf="registrationForm.submitted && contactEmail.invalid" class="invalid-feedback">
                  <div *ngIf="contactEmail.errors.required">Email is required</div>
                  <div *ngIf="contactEmail.errors.email">Must be a valid email address</div>
                </div>
              </div>

              <div class="form-group">
                <select type="text"
                        [(ngModel)]="registration.companyProfile"
                        name="companyProfile"
                        class="form-control">
                  <option *ngFor="let option of companyProfiles" [value]="option" value="{{option}}">{{option}}</option>
                </select>
              </div>

              <div class="custom-control custom-checkbox">
                  <input id="exampleCheck" type="checkbox" name="check"
                       autocomplete="off" class="custom-control-input"
                       value="true"
                       (change)="acceptTermsAndConditions()">
                  <label for="exampleCheck" class="custom-control-label">Accept our <a href="https://www.uj.ac.za/about/Pages/TCs.aspx" target="_blank">Terms and Conditions</a>.</label>
              </div>

              <div class="divider"></div>
              <h6 class="mb-0">
                  Already have an account?
                  <a routerLink="/landing-page" class="text-primary">Sign in</a>
                |<a routerLink="/forgot-password" class="text-primary">Forgot Password</a>
              </h6>

              <div class="modal-footer d-block text-center">
                  <button  type="submit" class="btn btn-wide btn-pill btn-shadow btn-hover-shine btn-primary btn-lg">
                    Create Account
                  </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="fab" routerLink="/request-quotation">
    <div>
      Request Quotation
    </div>
  </div>

</div>
<div *ngIf="isLoading | async" class="overlay">
  <div class="spinner">
    <img class="loader" src="../../../assets/wheel.gif">
  </div>
</div>